// server/prisma/schema.prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  id    Int     @id @default(autoincrement())
  userid String  @unique
  name  String?
}

// =========================================
// ğŸ“ ê°•ì˜ì¥ì†Œ (Lecture Location)
// =========================================
model LectureLocation {
  id                       Int      @id @default(autoincrement())
  unitName                 String   // ë¶€ëŒ€ëª…
  address                  String   // ì£¼ì†Œ
  contactPerson            String   // ë¶€ëŒ€ ë‹´ë‹¹ìëª…
  contactNumber            String   // ë‹´ë‹¹ìë²ˆí˜¸
  isCateringAvailable      Boolean  @default(false) // ìˆ˜íƒê¸‰ì‹ì—¬ë¶€
  isAccommodationAvailable Boolean  @default(false) // íšŒê´€ìˆ™ì‹ì—¬ë¶€
  restAreaNotes            String?  // ê°•ì‚¬ íœ´ê²Œì‹¤ ë° ì—¬ì í™”ì¥ì‹¤ ì—¬ë¶€ (ë‹¨ìˆœ O/Xë³´ë‹¤ ìƒì„¸ ì •ë³´ê°€ í•„ìš”í•  ìˆ˜ ìˆì–´ String ì¶”ì²œ)

  dailyDetails             DailyEducationDetail[]   // 1:N ê´€ê³„ ì„¤ì •

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

// =========================================
// ğŸ“… ì¼ìë³„ êµìœ¡ ì„¸ë¶€ì •ë³´ (Daily Education Detail)
// =========================================
model DailyEducationDetail {
  id                Int      @id @default(autoincrement())
  date              DateTime // ğŸ“… ê°•ì˜ ê°€ëŠ” ë‚ ì§œ
  traineeCount      Int      // ğŸ‘¥ êµìœ¡ ì¸ì›
  facilityNote      String?  // ğŸ“ ë¹„ê³  (TV, ë§ˆì´í¬ ë“± ë³€ë™ì‚¬í•­)

  lectureLocationId Int
  lectureLocation   LectureLocation @relation(fields: [lectureLocationId], references: [id], onDelete: Cascade)

  @@unique([lectureLocationId, date])
}